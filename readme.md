# 📋 overtime 工具版本变更记录

## ✅ 当前最新版：`v1.0`（单文件 `overtime.py`）

**一句话：** 能读 Excel/CSV，规则最全，报表最细。

| 特性 | 说明 |
|---|---|
| **文件兼容** | 自动识别 `log.xlsx` 或 `log.csv`，GBK/UTF-8 均可 |
| **早到剔除** | 工作日 09:00 之前到岗时间 **不计入加班** |
| **旷工判定** | 无下班记录 OR 打卡 ≥ 00:00 → 加班记 0 |
| **双列输出** | `overtime`（含早到）+ `overtime_after_9`（纯 9 点后） |
| **再分配** | 可选：把「本月剩余加班总量」按人均均衡算法分给人 |
| **零依赖** | 仅需 `pip install pandas chinese-calendar openpyxl pulp` |

---

## 🕒 历史版本速览

| 版本       | 主要变动 | 升级理由 |
|----------|---|---|
| **v0.0** | 最原始 Excel 模板 | 10 分钟就能用，但只能一个人玩 |
| **v0.1** | 纯 Python 脚本 + CSV | 多人打卡、自动汇总、定时任务 |
| **v0.5** | 支持 `.xlsx` / `.csv` 双格式 | 公司开始用 Excel 收集打卡，避免来回转格式 |
| **v0.8** | 新增「非工作日 ≥5 h 扣 1 h」 | 公司制度更新 |
| **v1.0** | 早到剔除 + 旷工判定 + 双列报表 + 加班再分配 | 制度再细化，管理层需要「公平分配」方案 |

---

## 🚀 如何无痛升级

1. **保留数据文件**：把旧 `log.xlsx / log.csv` 直接放到新脚本同目录即可。
2. **执行安装**（一次性）
   ```bash
   pip install -U pandas chinese-calendar openpyxl pulp