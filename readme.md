
# 📋 overtime 工具 README（v2.0）

> 一句话：把打卡 → 加班 → AI 再分配 → 健康提醒 → 预计完成，全流程拆成 4 个文件，一键运行即可。

---

## 🧩 2.0 架构总览

| 模块 | 文件 | 职责 |
|---|---|---|
| **配置** | `config.py` | 所有可调参数（工时、阈值、模型名） |
| **数据** | `data_io.py` | 自动识别 `.xlsx / .csv`，编码容错 |
| **逻辑** | `core.py` | 早到剔除、旷工判定、AI 再分配、健康提醒 |
| **主入口** | `main.py` | 生成 Bootstrap+ECharts 仪表盘 + 预计完成日期 |

---

## 🚀 三步上手

1. 安装  
   ```bash
   pip install pandas chinese-calendar openpyxl openai python-dotenv jinja2
## 📊 功能亮点（v2.0）

| 特性 | 说明 |
|---|---|
| **早到剔除** | 工作日 09:00 之前到岗不计加班 |
| **旷工判定** | 无下班或下班 ≥ 00:00 → 加班 0 h |
| **双列输出** | 含早到 vs 纯 9 点后 |
| **无上限再分配** | 按剩余工作日均摊，不设每日上限 |
| **健康提醒** | 已加班 ≥ 10 h 自动提示 |
| **预计完成** | AI 给出最晚完成日期 |
| **零依赖** | 仅需 5 个 pip 包 |

---

## 🛠️ 二次开发

| 需求 | 修改文件 |
|---|---|
| 改制度（工时、餐休） | `config.py` |
| 换 AI 模型 | `config.py` |
| 新增指标 | `core.py` |
| 美化报表 | `main.py` 中 `build_html()` |